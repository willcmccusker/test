/*!
 * Chart.Deferred.js
 * http://chartjs.org/
 * Version: 0.1.0
 *
 * Copyright 2016 Simon Brunel
 * Released under the MIT license
 * https://github.com/chartjs/Chart.Deferred.js/blob/master/LICENSE.md
 */
"use strict";!function(){function e(e,t){var d=parseInt(e,10);return isNaN(d)?0:"string"==typeof e&&-1!==e.indexOf("%")?d/100*t:d}function t(t){var d=t.chart.canvas,f=t._deferred_model,n=d.getBoundingClientRect(),r=e(f.yOffset||0,n.height),a=e(f.xOffset||0,n.width);return n.right-a>=0&&n.bottom-r>=0&&n.left+a<=window.innerWidth&&n.top+r<=window.innerHeight}function d(e){var t=f.Deferred.defaults,d=e.options.deferred,r=n.getValueOrDefault;return void 0===d?d={}:"boolean"==typeof d&&(d={enabled:d}),{enabled:r(d.enabled,t.enabled),xOffset:r(d.xOffset,t.xOffset),yOffset:r(d.yOffset,t.yOffset),delay:r(d.delay,t.delay),delayed:!1,loaded:!1}}var f=window.Chart,n=f.helpers;f.Deferred=f.Deferred||{},f.Deferred.defaults={enabled:!0,xOffset:0,yOffset:0,delay:0},f.platform=n.extend(f.platform||{},{defer:function(e,t,d){window.setTimeout(function(){e.call(d)},t)}});var r=[];n.addEvent(window,"scroll",function(){var e,d,f=r.slice(0),n=f.length;for(d=0;n>d;++d)e=f[d],t(e)&&e.update()}),f.plugins.register({beforeInit:function(e){e._deferred_model=d(e),r.push(e)},beforeDatasetsUpdate:function(e){var d,n=e._deferred_model;if(!n.loaded){if(n.enabled&&!t(e))return!1;if(d=r.indexOf(e),r.splice(d,1),n.loaded=!0,n.delay>0)return n.delayed=!0,f.platform.defer(function(){n.delayed=!1,e.update()},n.delay),!1}return n.delayed?!1:void 0}})}();