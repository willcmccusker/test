
$max-width : 1080px;
$max-width-wide : 1920px;
$padding : 25px;
$padding-top : 40px;
$mobile-padding : 20px;
$mobile-max-width : 768px;
$tablet-min-width : 768px;
$tablet-max-width : 950px;

/*type color variables */

$headerbgcolor : transparent;
$headercolor : #333333;
$linkcolor : #FF6653;
$lightgrey0 : #666666;
$lightgrey : #333333;
$lightgrey1 : #929292;
$lightgrey2 : #F0F0F0;
$lightgrey3 :  #f5f5f5;
$bodytype : #2e2e2e;

/*border color variables */


$border-lightgrey : #d6d6d6;
$border-darkgrey : #333333;

/*type size variables */

$smalltype : 12px;
$Lighttype : 12px;
$defaulttype : 16px;
$largetype1 : 20px;
$largetype2 : 30px;
$largetype3 : 40px;
$largetype4 : 64px;

@import "functions";
@import "grid";
@import "tooltips";
// @import "mapbox";
// @import "tiny-autocomplete";


@font-face {
	font-family: 'DINNextLTProUltraLight';
	src: url('/fonts/DINNextLTPro-UltraLight.eot');
	src: url('/fonts/DINNextLTPro-UltraLight.eot?#iefix') format('embedded-opentype'),
		url('/fonts/DINNextLTPro-UltraLight.woff') format('woff'),
		url('/fonts/DINNextLTPro-UltraLight.ttf') format('truetype');
	font-weight: 200;
	font-style: normal;
}

@font-face {
	font-family: 'Akkurat';
	src: url('/fonts/Akkurat.eot');
	src: url('/fonts/Akkurat.eot?#iefix') format('embedded-opentype'),
		url('/fonts/Akkurat.woff') format('woff'),
		url('/fonts/Akkurat.ttf') format('truetype');
	font-weight: normal;
	font-style: normal;
}

@font-face {
	font-family: 'NeueHaasRegular';
	src: url('/fonts/NeueHaasUnicaPro-Regular.eot');
	src: url('/fonts/NeueHaasUnicaPro-Regular.eot?#iefix') format('embedded-opentype'),
		url('/fonts/NeueHaasUnicaPro-Regular.woff') format('woff'),
		url('/fonts/NeueHaasUnicaPro-Regular.ttf') format('truetype');
	font-weight: normal;
	font-style: normal;
}

@font-face {
	font-family: 'NeueHaasRegularTX';
	src: url('/fonts/NHaasGroteskTXPro-55Rg.eot');
	src: url('/fonts/NeueHaasUnicaPro-Regular.eot?#iefix') format('embedded-opentype'),
		url('/fonts/NHaasGroteskTXPro-55Rg.woff') format('woff'),
		url('/fonts/NHaasGroteskTXPro-55Rg.ttf') format('truetype');
	font-weight: normal;
	font-style: normal;
}


// @import "plottable";
//@import "chartist";

/* http://meyerweb.com/eric/tools/css/reset/
   v2.0 | 20110126
   License: none (public domain)
*/

html, body, div, span, applet, object, iframe,
p, blockquote, pre,
a, abbr, acronym, address, big, cite, code,
del, dfn, em, img, ins, kbd, q, s, samp,
small, strike, strong, sub, sup, tt, var,
b, u, i, center,
dl, dt, dd, ol, ul, li,
fieldset, form, label, legend,
table, caption, tbody, tfoot, 
article, aside, canvas, details, embed,
figure, figcaption, footer, header, hgroup,
menu, nav, output, ruby, section, summary,
time, mark, audio, video {
	margin: 0;
	padding: 0;
	border: 0;
	font-size: 100%;
	font: inherit;
	vertical-align: bottom;
}
table tbody > * {
	vertical-align:top;
}
h1, h2, h3, h4, h5, h6 {
	margin: 0;
	padding: 0;
	line-height:1.3 !important;
}
p {
	padding-bottom: 1em;
}
/* HTML5 display-role reset for older browsers */
article, aside, details, figcaption, figure,
footer, header, hgroup, menu, nav, section {
	display: block;
}
body {
	line-height: 1;
}
ol, ul {
	list-style: none;
}
blockquote, q {
	quotes: none;
}
blockquote:before, blockquote:after,
q:before, q:after {
	content: '';
	content: none;
}
table {
	border-collapse: collapse;
	border-spacing: 0;
}




body{
	font-family: "NeueHaasRegularTX", Helvetica, sans-serif;
	line-height:1.5;
	color: $bodytype;
	padding-top:54px;
	padding-bottom:227px;
	position:relative;
	min-height:100vh;
	opacity:1 !important;
	@include xPrefix(transition, opacity 1s ease);
	.maploader{
		@include xPrefix(transition, all 1s ease);
		position:fixed;
			bottom: 10px;
			right: 10px;
			width:0px;
			height:0px;
			background-image: url("/img/loader.svg");
			background-size: contain;
			background-repeat: no-repeat;
	}
	&.mapsLoading{
		.maploader{
			width:50px;
			height:50px;
		}
	}
}
*{
	box-sizing: border-box;
}
p {
	line-height:1.3;
}
a {
	color:$bodytype;
	text-decoration: none;
}
.no-file{
	display:none;
	text-decoration: line-through !important;
	cursor: default;
}
.no-scroll{
	overflow: hidden;
}
.center-align{
	text-align:center;
}
.align-right {
	text-align: right;
}
.position-relative{
	position:relative;
}
.loader{
	width:1px; 
	height:1px; 
	opacity:0; 
	position:absolute;
}
.display-none{
	display:none;
}
.text-align-center{
	text-align: center;
}
.text-align-right{
	text-align:right;
}
.hide-on-desktop{
	display:none;
}





.header {
	@include xPrefix(transition, transform 500ms ease);
	&.headroom--unpinned:not(.poppedUp){
		@include xPrefix(transform, translateY(-100%) );
		nav.navOpen .nav-holder a{
			display:none;
		}
	}
	&.headroom--pinned:not(.poppedUp){
		@include xPrefix(transform, translateY(0%) );
	}
	display:inline-block;
	display: flex;
	// justify-content : flex-start;
	.nav-holder {
		margin-left:20px;
	}
	#site-title{
		display:inline-block;
		h1{
			display: inline-block;
		}
	}
	nav{
		display:inline-block;
		flex: 1;
		order: 2;
		a{
			margin-left: 20px;
		}
		a:hover {
			color:$linkcolor;
		}
	}
	#citySearch{
		display:inline-block;
		float:right;
		order: 3;
		margin-left: auto;
		// align-self: flex-end;
	}
	position: fixed;
	width:100%;
	top:0px;
	font-family: "NeueHaasRegularTX", Helvetica, sans-serif;
	font-size:$defaulttype;
	color:$headercolor;
	padding: 15px 20px;
	background-color: rgba(255,255,255,0.0);
/* 	border-bottom: 1px solid $lightgrey; */
	z-index:9999;
	a {
		color: $headercolor;
		font-family: "NeueHaasRegularTX", Helvetica, sans-serif;
	}
}

footer {
	border-top:1px solid $lightgrey2;
	color:$defaulttype;
	font-family: "NeueHaasRegularTX", Helvetica, sans-serif;
	line-height: 1.6;
	padding:15px 0 0 0;
	position:absolute;
	bottom:0;
	left:0px;
	width:100%;
	.grid:nth-child(2) {
		padding-bottom: 12px !important;
	}
	p {
		font-size: 14px;
		line-height: 1.4;
	}
	a {
		color:$lightgrey1;
		cursor: pointer;
		text-decoration: none;
	}
	img {
		max-width:100%;
		padding-bottom: 15px;
	}
	ul li {
		float:left;
		padding-right:15px;
	}
	.bottom-links {
		border-top:1px solid $lightgrey3;
		font-size: 14px;
		padding-top:8px;
	}
}

img.logo_block {
	margin-top:0px;
}



.countryNameRow, .regionMenu {
	position: relative;
	display:block;
	font-family: "DINNextLTProUltraLight", "Helvetica Neue Light", Helvetica, sans-serif;
	font-size: $defaulttype;
	padding:4px 10px 3px 6px;
	width:100%;
}
h2.countryName {
	border-top:1px solid #ccc;
}



.cityNav {
	position:absolute;
	bottom:10px;
	ul {
	margin-right:51px;
	float: left;
	margin-bottom: 10px;
	}
	li {
	list-style-type:none;
	margin:0 10px 8px 0;
	float:left;
	}
	a {
	color:#fff;
	font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
	font-size:$smalltype;
	text-transform: uppercase;
	padding: 6px 12px;
	background: rgba(255,255,255,0.1);
	border: 1px solid rgba(255,255,255,.5);
	cursor: pointer;
	}
	a:hover {
	background:rgba(0,0,0,0.7);
	}
}



table th{
	cursor: pointer;
}

.h1{
	font-size:$largetype4;
	line-height: 1.1;
	font-family: "NeueHaasRegularTX", Helvetica, Arial, sans-serif;
	color:#fff;
}

h1#site-title {
	font-size:$defaulttype;
	font-weight: normal;
	line-height: 1.5 !important;
	position:relative;
	z-index:1;
}

.h2{
	font-family:"DINNextLTProUltraLight", "Helvetica Neue Light", Helvetica, Arial, sans-serif;
	font-size:$largetype2;
}

.cityHeader{
	background-color: $border-darkgrey;
	padding-top:20px;
	position:relative;
	min-height:calc(100vh - 65px);
	color:#fff;

	.header-bg{
		position:absolute;
		top:0px;
		left:0px;
		width:100%;
		height:100%;
		background-position: center center;
		background-size:cover;
		background-repeat: no-repeat;
		// @include xPrefix(transition, -o-filter 1000 ease);
		// @include xPrefix(transition, -moz-filter 1000 ease);
		// @include xPrefix(transition, -webkit-filter 1000 ease);
		// @include xPrefix(transition, filter 1000 ease);
		// transition: 2s -webkit-filter linear;

		/* &.lazyimg{
			@include xPrefix(filter, blur(5px));	
		} */

		&::before{
			content : "";
			position:absolute;
			top:0px;
			left:0px;
			width:100%;
			height:100%;
			background: linear-gradient(rgba(0,0,0,0.2),rgba(0,0,0,0.8));	
		}
	}
	.countryNameRow{
		border-bottom: 1px solid rgba(255,255,255,0.7);
		> *{
			display: inline-block;
		}
		.flag {
			img{
				margin-right:10px;
				width:46px;
			}
		}	
	}
	.citySummaryTable {
		font-size:$largetype3;
		font-family:"DINNextLTProUltraLight", "Helvetica Neue Light", Helvetica, sans-serif;
	}
	
	.cityRegionTable {
		border: 1px solid rgba(255,255,255,0.7);
		display: inline-block;
		margin: 17px 0 30px 0;
	}

	.statLabel {
		font-family:"Helvetica Neue Light", "Helvetica Neue", Helvetica, Arial, sans-serif;
		font-size:$smalltype;
		text-transform: uppercase;
	}
	.statValue {
		color:rgba(255,255,255,.8);
		line-height: 1.1;
		margin: 0 0 16px 0;	
	}
	.units {
		display:inline-block;
		font-size: $smalltype;
		padding-left: 3px;
		vertical-align: top;
	}
}

.anchorPoint{
	position:relative;
	top:-85px;
}
.keyword-word{
	display: inline;
	font-weight: bold;
	text-decoration: underline;
	color:$linkcolor;
	cursor: pointer;
	.keyword-popup{
		display:none;
	}
	&:hover .keyword-popup{
		width:300px;
	    // bottom: 0px;
	    // left: 50%;
	    // margin-left:-50px;
		font-weight: normal;
	    // @include xPrefix(transform,  translateX(-50%));
	    display: block;
	    position: absolute;
		.leaflet-popup-content-wrapper{
			background: #fff;
		    border-radius: 3px;
		    box-shadow: 0 1px 2px rgba(0,0,0,.1);
			background-color: rgba(255,255,255,0.9);
		    color: #333333;
		    padding: 1px;
		    text-align: left;
		    pointer-events: all;
		    .leaflet-popup-content{
		    	padding: 5px 5px 0 5px;
		    	margin: 0;
			    line-height: inherit;
			    p{
		    	    font-size: 15px;
				    line-height: 20px;
				    margin: 0 0 10px;
			    	margin-bottom: 2px !important;
			    	padding-bottom: 2px !important;

			    }
		    }
		}
		.leaflet-popup-tip-container{
			width: 20px;
		    height: 20px;
		    margin: 0 auto;
		    position: relative;
		    .leaflet-popup-tip{
					width: 0;
				height: 0;
				margin: 0;
				border-left: 10px solid transparent;
				border-right: 10px solid transparent;
				border-top: 10px solid #fff;
				box-shadow: none;
		    	border-top: 10px solid rgba(255,255,255,0.9);
		    }
		}
	}
}

.cityImage img {
	width:100%;
}

.graphSection {
	padding-bottom:180px;
}

.graphMainContainer {
	background-color: $lightgrey3;
}
.header-underline{
	border-bottom: 1px solid $lightgrey1;
}
.sectionHeader, 
.sectionDownload {
	font-size:$largetype3;
	font-family:"DINNextLTProUltraLight", "Helvetica Neue Light", Helvetica, sans-serif;
	padding-top:20px;
	text-align: left;

}
.sectionDownload{
	font-family: "Helvetica Neue Light", Helvetica, Arial, sans-serif;
	font-size:$defaulttype;
	text-align:right;
	line-height:60px;
}

.sectionSubHeader {
	margin-bottom: .5em;
}

h3.sectionSubHeader {
	font-size:$largetype2;
	font-family: "DINNextLTProUltraLight", "Helvetica Neue Light", Helvetica, sans-serif;
}

.graphSection p {
	font-family: "Times New Roman", Times, serif;
	font-size: 16px;
	color:$lightgrey1;
}
.switchYear{
	cursor: pointer;
	&.activeYear{
		font-weight: bold;
		background-color: #ededed;
	}
}
.years {
	position:absolute;
	font-size: 14px;
}
.years span{
	background-color: #dbdbdb;
	margin-right: 6px;
	padding: 4px 8px;
}
.legend-ul{
	font-family: "DINNextLTProUltraLight", "Helvetica Neue Light", Helvetica, sans-serif;
	padding-left:20px;
	margin-top:32px;
	li{
		font-size:12px;
		position:relative;
	}
	.legend-click{
		display:inline-block;
	    width: 10px;
	    height: 10px;
	    margin: 0 5px;
	    position: absolute;
	    left: -20px;
	    margin-top: -7px;
	    top: 50%;
	}
	
}
.city-map{
	height:600px;
	background-color: white !important;
	background-image: url("/img/loader.svg") !important;
	background-position:center center !important;
	background-repeat: no-repeat !important;
	background-size:120px !important;
	.leaflet-container{

	}
}
.map-legend-years{
	font-family: "DINNextLTProUltraLight", "Helvetica Neue Light", Helvetica, sans-serif;
	li{
		display: inline-block;
		label{
			background-color: #e4e4e4;
			border: 0px solid #DADADA;
			color: #848282;
			padding:4px 15px 2px;	
			cursor: pointer;
			&:hover, &.current-year{
				background-color: #DADADA;
			}
			&.current-year {
				background-color: #999999;
				color: #fff;
			}
			input{
				display:none;
			}
		}
	}
}
.map-legend-sections{
	font-family: "DINNextLTProUltraLight", "Helvetica Neue Light", Helvetica, sans-serif;
	font-size: 14px;
	margin-top:10px;
	u {
		font-family: "NeueHaasRegularTX", Helvetica, Arial, sans-serif;
		text-decoration: none;
	}
	li{

		label{		
			padding:2.5px 10px 2.5px;	
			margin:2.5px 0px 2.5px -10px;
			cursor: pointer;
			display:block;
			&:hover{
				background-color: rgba(255, 102, 83, 0.7);
			}
			input{
				display:none;
				&:checked + span{
					background-image: url("/img/menu.png");
					background-position:center center;
					background-repeat:no-repeat;
					background-size: contain;
				}
			}
			span{
				border: 1px solid #AFAFAF;
				background-color: #DADADA;
				width: 15px;
				display: inline-block;
				height: 15px;
				margin-right: 5px;
				line-height: 24px;
				vertical-align: middle;
				margin-bottom: 3px;
			}
		}
	}
}
.year-switch-graphic{
	margin-bottom:32px;
}
.city-graphic{

	// padding-right:100px;
	// &.no-legend{
	// 	padding-right:0px;
	// }
	// position:relative;
	// background-color: $lightgrey;
	// padding:20px;
	// min-height:450px;
	// ul{
	// 	position: absolute;
	// 	z-index: 5;
	// 	right: 35px;
	// 	top: 10px;
	// 	padding: 5px;
	// 	background-color: white;
	// }
}





#density_change-plottable{
	width: 100%;
	height:500px;
}
#density_change-plotly{
	width:600px;
	height:500px;
}
.holder{
	#density_change-chartjs{
		width:100%;
		height:500px;
	}
}

#density_change-chartist{
	.ct-bar{
		stroke-width : 50px;
	}
}

#worldmap{
	// position:absolute;
	// top:64px;
	// bottom:0;
	// left:0;
	height:83vh;
	width:100%;

	
	svg g path{
		stroke: transparent;
		stroke-width:10px;
	}
	

}
.leaflet-control-attribution{
	// display:none;
}
.map-placeholder {
	width:100%;
	background-color:#292929;
	}
	
#worldmap .leaflet-popup-pane .leaflet-popup-content-wrapper {
	background-color:rgba(255,255,255,.8);
	color:#333333;
	a {
	color:#333333;
	font-size:13px !important;
	}
	a:hover {
	color:$linkcolor;
	}
} 

#worldmap .leaflet-popup-close-button+.leaflet-popup-content-wrapper .leaflet-popup-content {
	padding: 5px 5px 0 5px;
}

#worldmap .leaflet-popup-close-button {
	display: none;
}

#worldmap > div.leaflet-map-pane > div.leaflet-objects-pane > div.leaflet-popup-pane > div > div.leaflet-popup-content-wrapper > div > p {
	margin-bottom: 2px !important;
	padding-bottom: 2px !important;	
}

#worldmap .leaflet-popup-tip-container .leaflet-popup-tip {
	border-top:10px solid rgba(255,255,255,.8);
}	

.table-label {
	padding-right:30px;
}

.tableSmallText {
	font-size:$defaulttype;
}


/* Search */

#citySearch input:focus{
    outline: none;
}
#citySearch:not(.poppedUp){
	 input#search{
	  width: 50%;
	  border: none;
	  font-size: $defaulttype;
	  text-align:right;
	  background-color: $headerbgcolor;
	}
}

#citySearch{
	text-align:right;
	position:relative;
	ul{
		position:fixed;
		top:0px;
		left:0px;
		width:100%;
		height:100%;
		overflow:auto;
		margin-top:58px;
	    text-align: left;
	    li{
	    	padding: #{$padding/2};

		    .popup-city-city{
		    	display:inline-block;
		    	font-size:$largetype3;
		    }
	    	.popup-city-li{
	    		line-height:40px;
			    img{
			    	height:32px;
			    	display: inline;
			    	vertical-align: middle;
			    }
	    	}

	    }
	    li:hover{
	    	background-color:rgba(0,0,0,0.1);
	    }
	}
}
#citySearch .closeHolder{
	position:fixed;
	top: #{$padding/2};
	right: #{$padding/2};
	display:none;
}



#citySearch .closeCitySearch{
	width: 30px;
	height:30px;
	cursor: pointer;
	position: relative;
	overflow: hidden;

	// @include xPrefix(transform, scale(3));

	&:hover {
		&::before, &::after {
			background: grey;
		}
	}
	&::before, &::after {
		content: '';
		position: absolute;
		height: 2px;
		width: 100%;
		top: 50%;
		left: 0;
		margin-top: -1px;
		background: #000;
	}
	&::before {
		@include xPrefix(transform, rotate(45deg));
	}
	&::after {
		@include xPrefix(transform, rotate(-45deg));
	}
}
.leaflet-bottom, .leaflet-top{

}


#citySearch.poppedUp{
	z-index:3;
	position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    overflow: auto;
    background-color: rgba(255,255,255,0.8);
    .closeHolder{
    	display:block;
    }
    input{
    	border:none;
    	color:$bodytype;
    	padding:5px;
    	padding:10px #{$padding/2} 10px;
    	width:100%;
    	font-size:32px;
    	border-bottom:1px solid $lightgrey1;
    	background-color:white;
    }
}

#citySearch:not(.poppedUp) ul,
#citySearch.unlisted ul{
	display:none;
}



/* Data Page */
.data-page-text, .data {
	a {
		color:$linkcolor;
	}
}
.hide-on-desktop .expansion-links{
	position:absolute;
    right: 0px;
    text-align: right;
    background-color: white;
    padding: 5px;
    border: 1px solid black;
}
#data-table{
	th {
		font-family: Helvetica, sans-serif;
		font-size: 12px;
		font-weight: normal;
		text-transform: uppercase;
	}
	th:nth-of-type(0),
	th:nth-of-type(1){
		width: 30%;
	}
	th:nth-of-type(2),
	th:nth-of-type(3),
	th:nth-of-type(4){
		width:18%;
	}
	th:last-of-type{
		width:30%;
	}
	.page-holder{
		display: inline-block;
		.pagination{
			display:inline-block;
			li{
				margin:10px;
				display:inline-block;
				&.active{
					text-decoration: underline;
				}
			}
		}
	}
	.per-page{
		display:inline-block;
		line-height:44px;
		float:right;
		select{
			border:none;
			background-color:transparent;
		}
	}
}
.show-links{
	cursor: pointer;
	position:relative;
	&::after{
		content: "";
	    width: 0px;
	    height: 0px;
	    top: 50%;
	    margin-top: -5px;
	    margin-left: 5px;
	    position: absolute;
	    border-top: 5px solid transparent;
	    border-bottom: 5px solid transparent;
	    border-left: 5px solid black;
	    @include xPrefix(transition, 500ms all ease);
	}
	&.showing-link::after{
		@include xPrefix(transform, rotate(90DEG));
	}
}

.data-table {
	width:100%;
	tr{
		position:relative;
	}
}

.data-table th, .data-table td {
	padding:5px 15px 20px 2px;
	border-bottom: 1px solid $border-lightgrey;
	text-align: left;
}




/* historical */
.historical{
	video{
		width:100%;
		height:320px;
	    height: calc(40vw - 25px);
	    max-height: 412.25px;

	    height: calc(#{40 * 0.5625}vw - 20px);
	    max-height: #{(($max-width-wide * .4) - 30)* 0.5625 };
	}
}



/* Index */
#cityList {
	padding-top:$padding-top;
	padding-bottom: 100px;

	.city:hover {
		background-color:$lightgrey3;
	}
	ul.list{
		vertical-align: top;
		display:inline-block;
		list-style-type: none;
		// @include xPrefix(columns, 3);
	}
	ul > div:first-of-type h3{
		padding-top:0px;
	}
	h3 {
		font-family: Helvetica, Arial, sans-serif;
		font-size: $defaulttype;
		font-weight: bold;
		text-transform: uppercase;
		padding: 25px 0 0px 0;
	}
}

@for $i from 1 through 8{
	.region-#{$i} .region{
		display:block;
	}
	.region-#{$i} ~ .region-#{$i} .region{
		display:none;
	}
}




/* Data Page */
.data {
	a {
	color:#808080;
	}
	a:hover {
	color:$linkcolor;
	}
	.expansion-links a {
	color:$linkcolor;
	display: block;
	padding-right:3px;
	text-decoration: underline;
	}	
}
	
/* About Page */

.about, .historical, .data-page-text {
	font-family: "NeueHaasRegularTX", Helvetica, Arial, sans-serif !important;
	padding-top:$padding-top;
	h1, h2, h3 {
	font-family: "NeueHaasRegularTX", Helvetica, Arial, sans-serif !important;
}
}

.about h4 {
	font-family: "Helvetica Neue", Helvetica, Arial, sans-serif !important;
}

@import "mobile";
//@import "mapbox";

